	<!doctype html>
	<!--[if !IE]>
	<html class="no-js non-ie" lang="en-US"> <![endif]-->
	<!--[if IE 7 ]>
	<html class="no-js ie7" lang="en-US"> <![endif]-->
	<!--[if IE 8 ]>
	<html class="no-js ie8" lang="en-US"> <![endif]-->
	<!--[if IE 9 ]>
	<html class="no-js ie9" lang="en-US"> <![endif]-->
	<!--[if gt IE 9]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->
	<head>
<base href="/archive" />


		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		
		

		<title>Testing Functionality versus Testing Design &#8211; World Wide Webber</title>




<link rel='stylesheet' id='responsive-style-css'  href='/archive/contents/ui/theme/core/css/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-media-queries-css'  href='/archive/contents/ui/theme/core/css/responsive.css' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-style-css'  href='/archive/contents/ui/theme/core/css/font-awesome.min.css' type='text/css' media='all' />
<script type='text/javascript' src='/archive/inc/js/jquery/jquery.js'></script>
<script type='text/javascript' src='/archive/inc/js/jquery/jquery-migrate.min.js'></script>
<script type='text/javascript' src='/archive/contents/ui/theme/core/js/responsive-modernizr.min.js'></script>








	<script>
		jQuery(document).ready(function(){
		var copyright_text = "";
		var cyberchimps_link = "";
		var siteurl = "/archive"; 
		if(copyright_text == "")
		{
			jQuery(".copyright #copyright_link").text(" "+"Default copyright text");
		}
		else{ 
			jQuery(".copyright #copyright_link").text(" "+copyright_text);
		}
		jQuery(".copyright #copyright_link").attr('href',siteurl);
		if(cyberchimps_link == 1)
		{
			jQuery(".powered").css("display","block");
		}
		else{
			jQuery(".powered").css("display","none");
		}
		});
	</script>
<!-- We need this for debugging -->
<!-- Responsive 3.11 -->
		<style type="text/css" id="wp-custom-css">
			1		</style>
		</head>

<body class="post-template-default single single-post postid-160 single-format-standard default-layout">

  	
<div id="container" class="hfeed">

	<div class="skip-container cf">
		<a class="skip-link screen-reader-text focusable" href="#content">&darr; Skip to Main Content</a>
	</div><!-- .skip-container -->
	<div id="header_section">
	<div id="header" role="banner">

		
		
		
		
				<div id="content-outer">
			<div id="logo">
				<span class="site-name"><a href="/archive/" title="World Wide Webber" rel="home">World Wide Webber</a></span>
				<span class="site-description">Jim Webber&#039;s Blog</span>
			</div><!-- end of #logo -->
		</div>
				
				<div class="main-nav"><ul class="menu"><li ><a href="/archive/">Home</a></li><li class="page_item page-item-95 current_page_parent"><a href="/archive/blog/">Blog</a></li><li class="page_item page-item-5 page_item_has_children"><a href="/archive/biography/">Bio</a><ul class='children'><li class="page_item page-item-10"><a href="/archive/biography/shortbio/">Short Bio</a></li></ul></li><li class="page_item page-item-630"><a href="/archive/books/">Books</a></li><li class="page_item page-item-15"><a href="/archive/contact/">Contact</a></li><li class="page_item page-item-13"><a href="/archive/professional/">Professional</a></li><li class="page_item page-item-12"><a href="/archive/publications/">Publications</a></li></ul></div>
		
		
	</div><!-- end of #header -->
	</div>


	  
	<div id="wrapper" class="clearfix">
<div id="content-outer">
<div id="content" class="grid col-620" role="main">

	
	
		
						<div id="post-160" class="post-160 post type-post status-publish format-standard hentry category-programming category-testing">
				
				
	<h1 class="entry-title post-title responsive">Testing Functionality versus Testing Design</h1>

<div class="post-meta">
	<i class="fa fa-calendar" aria-hidden="true"></i><span class="meta-prep meta-prep-author posted">Posted on </span><a href="/archive/2009/02/testing-functionality-versus-testing-design/" title="Testing Functionality versus Testing Design" rel="bookmark"><time class="timestamp updated" datetime="2009-02-08T01:04:58+00:00">February 8, 2009</time></a><span class="byline"> by </span><span class="author vcard"><a class="url fn n" href="/archive/author/jim/" title="View all posts by jim"><span class="author-gravtar"></span>jim</a></span>		<span class='posted-in'>
Posted in <a href="/archive/category/programming/">Programming</a>, <a href="/archive/category/testing/">Testing</a>		</span>

			<span class="comments-link">
		<span class="mdash">&mdash;</span>
			<a href="/archive/2009/02/testing-functionality-versus-testing-design/#respond">No Comments &darr;</a>		</span>
	</div><!-- end of .post-meta -->

				<div class="post-entry">
					<div xmlns="http://www.w3.org/1999/xhtml">
<p xmlns="">In my <a href="http://jim.webber.name/2009/01/30/83fba2cc-d1a5-4271-86a4-55e7f6b51c06.aspx">previous post</a> I talked about how unit tests aren&#8217;t born tests, but are a design aid which turn into tests as the components they shape mature. But testing doesn&#8217;t stop at driving out good, decoupled objects. Good developers take both broad and detailed views of system testing, which normally involves writing functional tests to validate scenarios.</p>
<p xmlns="">But let&#8217;s start smaller. Given we want to use unit tests to drive out the design of all layers of a system &#8211; including those layers which are exposed to users or other systems &#8211; there&#8217;s an chance that we may end up writing code in unit tests that ends up being similar in nature to parts of our functional tests. And if so the argument goes our code may not be <a href="http://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a>, and the team may not be &#8220;agile&#8221; and <a href="http://martinfowler.com">Mr Fowler</a> may be upset once more. </p>
<p xmlns="">In fact this is a rather poor argument. Once you accept that unit tests are not tests but a design device, that any resemblance between unit test code and functional test code is accidental, and is likely to be transitory as system design changes through delivery, you understand that these two kinds of &#8220;tests&#8221; are inherently different beasts. </p>
<p xmlns="">To help clarify this, I&#8217;d like to use an example from the world of Web-based (though not necessarily RESTful) services. In our book, <a href="http://savas.parastatidis.name">Savas</a>, <a href="http://iansrobinson.com/">Ian</a> and I use a coffee shop called <a href="http://restbucks.com">Restbucks</a> to exemplify various techniques and often we capture those techniques as code snippets to help ground them in practical reality. In our chapter on CRUD services one of the implementation options uses a Java servlet to provide a means of placing and manipulating coffee orders via the network. </p>
<p xmlns="">In designing the service, we need to isolate specific components and model their design and interaction with collaborators. We certainly didn&#8217;t want to have to run the servlet in a real container at design time because that slows down development and doesn&#8217;t help with formulating good designs. Instead where we needed to design how the servlet would interact with its collaborators, we used mock HttpServletRequest and HttpServletResponse objects (specifically the MockHttpServletRequest and MockHttpServletResponse from <a href="http://www.springsource.org/">Spring</a>) to drive out a set of behavioural contracts between the servlet and its consumers for given test contexts. By following TDD-ish techniques, we drove out the design of the service&#8217;s constituent components, incrementally adding functionality until we could honour the behavioural contracts placed on us by our unit tests. </p>
<p xmlns="">Our QA department &#8211; the same three authors with day jobs! &#8211; couldn&#8217;t have cared less. &#8220;They&#8221; couldn&#8217;t care how we designed and implemented the servlet, only that the overall service matched their expectations from a functional point of view, from the point of view of the consumer of the service. &#8220;They&#8221; didn&#8217;t try to re-use our test code in some relentless pursuit of DRY-ness because functional testing does not (and should not) test component and interaction design, it tests functionality. If you look hard, there&#8217;s a even a clue in the name! </p>
<p xmlns="">We did in fact write functional tests which exercised the servlet and which occasionally had passing resemblance to some of our unit tests, especially those tests which deal with the payload of HTTP requests and responses But those functional tests maintain *functionality* throughout the development where the unit tests protect good design. The different is that functionality needs to be unswervingly preserved in hi-fidelity into production whereas design often changes, driven by unit tests of course. </p>
<p xmlns="">In a dependable system, we need design time contracts expressed as unit tests, much as we need functional tests to guarantee the presence of expected, correct functionality. But these are different horses for different courses. Functional tests can be used to show when a system is ready, but they are no real indicator of the quality of the system, of its ability to be chained, maintained, and updated since that is a function of good design. Similarly unit tests can&#8217;t be used to show when a system has met its users&#8217; requirements, since that it is a matter of functionality. But taken together functional and unit testing &#8211; holistically &#8211; can be used to demonstrate functionality and design. </p>
<p xmlns="">And that is goodness.</p>
</div>

					
									</div><!-- end of .post-entry -->

				<div class="navigation">
					<div class="previous">&#8249; <a href="/archive/2009/01/when-is-a-unit-test-not-a-unit-test-when-its-just-been-written-thats-when/" rel="prev">When is a Unit Test not a Unit Test? When it&#8217;s just been written, that&#8217;s when</a></div>
					<div class="next"><a href="/archive/2009/02/whats-in-a-test-name/" rel="next">What&#8217;s in a (test) name?</a> &#8250;</div>
				</div><!-- end of .navigation -->

				
	<div class="post-data">
			</div><!-- end of .post-data -->

<div class="post-edit"></div>
							</div><!-- end of #post-160 -->
			
						




		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2009/02/testing-functionality-versus-testing-design/#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="/archive/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name</label> <span class="required">*</span><input id="author" name="author" type="text" value="" size="30" /></p>
<p class="comment-form-email"><label for="email">E-mail</label> <span class="required">*</span><input id="email" name="email" type="text" value="" size="30" /></p>
<p class="comment-form-url"><label for="url">Website</label><input id="url" name="url" type="text" value="" size="30" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='160' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="bd09289c61" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="120"/></p>			</form>
			</div><!-- #respond -->
	

			
		
</div><!-- end of #content -->


	<div id="widgets" class="grid col-300 fit" role="complementary">
		
		<div id="text-7" class="widget-wrapper widget_text">			<div class="textwidget"><div>
<h4 align="center">Jim Webber's Books</h4>  

<p align="center">
<img alt="Graph Databases book cover" src="http://ecx.images-amazon.com/images/I/51JijeM8MAL.jpg" width="160" height="240" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

  
<p align="center">
<a href="http://www.amazon.com/gp/product/1449356265/ref=as_li_tf_il?ie=UTF8&camp=1634&creative=6738&creativeASIN=1449356265&linkCode=as2&tag=jimwebbesblog-21">Amazon (US)</a>  
<br/>
<a href="http://www.amazon.co.uk/gp/product/1449356265/ref=as_li_tf_il?ie=UTF8&camp=1634&creative=6738&creativeASIN=1449356265&linkCode=as2&tag=jimwebbesblog-21">Amazon (UK)</a>
</p>


<p align="center"><img alt="REST in Practice book cover" src="http://akamaicovers.oreilly.com/images/9780596805838/lrg.jpg" width="160" height="240" /></p>
<p align="center"><a href="http://www.amazon.com/gp/product/0596805829?ie=UTF8&amp;tag=jimwebbesblog-20&amp;linkCode=xm2&amp;camp=1789&amp;creativeASIN=0596805829">Amazon (US)</a>
<br/>
<a href="http://www.amazon.co.uk/gp/product/0596805829?ie=UTF8&amp;tag=jimwebbesblog-21&amp;linkCode=xm2&amp;camp=1634&amp;creativeASIN=0596805829">Amazon (UK)</a></p>

<p align="center"><img alt="Developing Enterprise Web Services book cover" src="https://images-na.ssl-images-amazon.com/images/I/51ojvewjoHL._SX387_BO1,204,203,200_.jpg" width="160" height="240" /></p>
<p align="center"><a href="http://www.amazon.com/gp/product/B005MZDYRE?ie=UTF8&amp;tag=jimwebbesblog-20&amp;linkCode=xm2&amp;camp=1789&amp;creativeASIN=B005MZDYRE">Amazon (US)</a>
<br/>
<a href="http://www.amazon.co.uk/gp/product/0131401602?ie=UTF8&amp;tag=jimwebbesblog-21&amp;linkCode=xm2&amp;camp=1634&amp;creativeASIN=0131401602">Amazon (UK)</a></p>
</div></div>
		</div>
			</div><!-- end of #widgets -->
</div>
</div><!-- end of #wrapper -->

	 
</div><!-- end of #container -->

<div id="footer" class="clearfix" role="contentinfo">
	
	<div id="footer-wrapper">
		
		 <!--   main-->
		
		<div id="content-outer">			
				</div>
		<div id="content-outer">
		<div class="grid col-940">

			<div class="grid col-540">
							</div><!-- end of col-540 -->

			<div class="grid col-380 fit">
				<ul class="social-icons"><li class="twitter-icon"><a href="http://twitter.com/jimwebber"><img src="/archive/contents/ui/theme/core/icons/twitter-icon.png" width="24" height="24" alt="Twitter"></a></li></ul><!-- .social-icons -->			</div><!-- end of col-380 fit -->

		</div><!-- end of col-940 -->
		
		<div class="grid col-300 copyright">
			&copy; 2018<a id="copyright_link" href="/archive/" title="World Wide Webber">
				World Wide Webber			</a>
		</div><!-- end of .copyright -->

		<div class="grid col-300 scroll-top"><!--<a href="#scroll-top" title="scroll to top">&uarr;</a>
		<div id="scroll-to-top"><span class="glyphicon glyphicon-chevron-up"></span></div>--></div>

		<div class="grid col-300 fit powered">
			<a href="http://cyberchimps.com/responsive-theme/" title="Responsive Theme" rel="noindex, nofollow">Responsive Theme</a>
			powered by <a href="http://wordpress.org/" title="WordPress">
				WordPress</a>
		</div><!-- end .powered -->
	</div>
		
	</div><!-- end #footer-wrapper -->

	</div><!-- end #footer -->
<div id="scroll" title="Scroll to Top" style="display: block;">Top<span></span></div>
<script type='text/javascript' src='/archive/contents/ui/theme/core/js/responsive-scripts.min.js'></script>
<script type='text/javascript' src='/archive/contents/ui/theme/core/js/jquery.placeholder.min.js'></script>
<script async="async" type='text/javascript' src='/archive/contents/lib/akismet/_inc/form.js'></script>
</body>
</html>
